% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mutate_district_name_v2.R
\name{mutate_district_name_v2}
\alias{mutate_district_name_v2}
\title{Standardise District Names (version 2)}
\usage{
mutate_district_name_v2(
  data,
  district_col = "district",
  out_col = "district_standard",
  code_col = "district_code",
  keep_raw = TRUE,
  fuzzy = FALSE,
  max_dist = 2L,
  dictionary = NULL,
  remote_alias_urls = NULL,
  debug = FALSE
)
}
\arguments{
\item{data}{A data.frame or a character vector of district names.}

\item{district_col}{Name of the column in \code{data} containing district text
(used only when \code{data} is a data.frame). Default: "district".}

\item{out_col}{Name of the output column for canonical district names.
Default: "district_standard".}

\item{code_col}{Name of the output column for a district code (e.g. "DC15").
Default: "district_code". If the dictionary does not provide codes this
column will be NA.}

\item{keep_raw}{If FALSE, the original \code{district_col} will be removed from
returned data.frame. Default: TRUE.}

\item{fuzzy}{Logical; if TRUE attempt fuzzy matching for unmatched inputs.}

\item{max_dist}{Maximum edit distance allowed for fuzzy matches (integer).}

\item{dictionary}{Optional dictionary (data.frame). Long format must contain
\code{district_standard}, \code{district_code}, \code{variant} (and optionally
\code{variant_norm}). List-column format should contain \code{district_standard},
\code{district_code}, \code{variants} (a list-column of character vectors). If NULL
the function tries to read \code{inst/extdata/canonical_districts.rds} then
falls back to a built-in small dictionary.}

\item{remote_alias_urls}{Optional character vector of URLs or local paths to
CSV files with columns \code{district_standard} and \code{alias} to append as manual
aliases (useful to capture upstream name-changes). These are read with
\code{readr::read_csv()} and appended to the dictionary.}

\item{debug}{Logical; if TRUE prints brief diagnostics about matching.}
}
\value{
If \code{data} is a data.frame, returns the data.frame with added
\code{out_col} and \code{code_col}. If \code{data} is a character vector, returns a
data.frame with columns \code{input}, \code{district_standard}, \code{district_code} and
\code{match_method}.
}
\description{
A more robust district-name normaliser that accepts an external canonical
dictionary (long or list-column), can append remote alias CSVs, and supports
optional fuzzy matching using \code{stringdist::amatch()} with an \code{adist()} fallback.
}
